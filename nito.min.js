/*! Nito v0.5.0 - https://github.com/morris/nito */
!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:e(t,t.$)}(this,function(t,e){function n(t){return t?"":null}function i(t,e){return"function"==typeof t?t.call(e):t}if(!e.nito){var r=e.extend;r(e,{nito:function(t){var n=t.idProp||"id",i=t.base;e.isArray(i)&&(i=i.join("\n"));var r=function(t,n,i){e.Comp.call(this,t,n,i)};return r.prototype=Object.create(e.Comp.prototype),e.extend(r.prototype,t),e.extend(r,e.Comp),r.base=i,r.idProp=n,r}}),e.Comp=function(t,n,i){this.$el=e(t),this.$el.length>0&&(this.$el[0].nitoComp=this),this.setup(n,i),this.update(n,i)},r(e.Comp,{create:function(t,e){return this.setup(this.base,t,e)},setup:function(t,e,n){return new this(t,e,n)},appendTo:function(t,e,n){var i=this.create(e,n);return i.$el.appendTo(t),i},remove:function(t){t.$el.remove()}}),r(e.Comp.prototype,{setup:function(){},update:function(){},on:function(t,e){var n=this,i=[].map.call(arguments,function(t){return"function"==typeof t?t.bind(n):t});return this.$el.on.apply(this.$el,i),this},find:function(){return this.$el.find.apply(this.$el,arguments)}}),r(e.fn,{nest:function(t,e,n){return this.loop([t],e,n)},loop:function(t,n,i){var r=n.idProp||"id",o=n.remove.bind(n)||function(t){t.$el.remove()},a=this.eq(0),u=this[0],c={};t=t.filter(function(t){if(!t)return!1;var e=t[r];if(!e)throw new Error('Undefined id "'+r+'" in loop');if(c[e])throw new Error('Non-distinct id "'+e+'" in loop');return c[e]=t,!0});var s=u.nitoChildMap||{};e.each(s,function(t,e){c[t]||(o(e),delete s[t])});var f=0,p=t.map(function(t){var e=t[r],o=s[e],u=!o;u&&(o=n.create(t,i),s[e]=o),o.update(t,i);var c=o.$el;return f>=a.children().length?(c.appendTo(a),c.trigger("moved")):(u||c.index()!==f)&&(0===f?c.prependTo(a):c.insertAfter(a.children().eq(f-1)),c.trigger("moved")),++f,o});return u.nitoChildMap=s,p},classes:function(t){return this.each(function(){var n=this,r=e(n);e.each(t,function(t,e){r.toggleClass(t,i(e,n))})})},style:function(t){return this.each(function(){var n=this,r=e(n);e.each(t,function(t,e){e=i(e,n),r.css(t)!==e&&r.css(t,e)})})},attrs:function(t){return this.each(function(){var n=this,r=e(n);e.each(t,function(t,e){e=i(e,n),r.attr(t)!==e&&r.attr(t,e)})})},weld:function(t,n){if((null===t||"undefined"==typeof t)&&(t=""),"object"!=typeof t)return this.each(function(){var n=i(t,this)+"",r=e(this),o=r.html();o!==n&&r.html(n)});n=n||{};var r=this;return e.each(t,function(t,e){var i=n[t]||"#"+t+", ."+t;r.find(i).not("input, textarea, select").weld(e)}),this},fill:function(t,i){var r=this;return t?(e.each(t,function(t,o){i&&(t=i+"["+t+"]");var a;if(e.isArray(o))a=r.find('[name="'+t+'[]"]'),a.is("input[type=checkbox]")?a.each(function(){var t=e(this);t.attrs({checked:n(o.indexOf(t.attr("value"))>=0)})}):a.is("select[multiple]")&&a.find("option").each(function(){var t=e(this);t.attrs({selected:n(o.indexOf(t.attr("value"))>=0)})});else{if(o&&"object"==typeof o)return r.fill(o,t);a=r.find('[name="'+t+'"]'),a.is("input[type=text], input[type=password]")?a.attrs({value:o}):a.is("textarea")?a.weld(o):a.is("select")?a.find("option").each(function(){var t=e(this);t.attrs({selected:n(o===t.attr("value"))})}):a.is("input[type=radio]")?a.each(function(){var t=e(this);t.attrs({checked:n(t.attr("value")===o)})}):a.is("input[type=checkbox]")&&("string"==typeof o&&(o=!!parseInt(o)),a.attrs({checked:n(o)}))}}),this):this}})}});