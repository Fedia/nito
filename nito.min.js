/*! Nito v0.7.1 - https://github.com/morris/nito */
!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:t(e,e.$)}(this,function(e,t){function i(e,t){return"function"==typeof e?e.call(t):e}if(!t.nito){var n=t.extend,o=t.isArray,r=t.each;t.nito=function(e){var i=e.keyProp||"key",r=e.base;r=t(o(r)?r.join("\n"):r)[0];var s=function(e,i,n){t.Comp.call(this,e,i,n)};return s.prototype=Object.create(t.Comp.prototype),n(s.prototype,e),n(s,t.Comp),s.base=r,s.keyProp=i,s},t.Comp=function(e,i,n){this.$el=t(e).eq(0),this.el=this.$el[0],this.el&&(this.el.nitoComp=this),this.setup(i,n),this.update(i,n)},n(t.Comp,{create:function(e,t){return this.setup(this.base?this.base.cloneNode(!0):null,e,t)},setup:function(e,t,i){return new this(e,t,i)},appendTo:function(e,t,i){var n=this.create(t,i);return n.$el.appendTo(e),n}}),n(t.Comp.prototype,{setup:function(){},update:function(){},on:function(e,t){var i=this,n=[].map.call(arguments,function(e){return"function"==typeof e?e.bind(i):e});return this.$el.on.apply(this.$el,n),this},find:function(){return this.$el.find.apply(this.$el,arguments)}}),n(t.fn,{loop:function(e,t,i){var n=t.keyProp||"key",o=this[0],r=o.children,s=o.nitoCompMap=o.nitoCompMap||{},a=0,u=e.map(function(e){var o=e[n];if(!o)throw new Error('Undefined key "'+n+'" in loop');var r=s[o];return r?r._sort=Math.abs(a-r._index):(r=t.create(e,i),s[o]=r,r._sort=-a),r._index=a,r.el.nitoKeep=!0,r.el.nitoKey=o,r.update(e,i),++a,r});for(a=0;a<r.length;){var c=r[a];c.nitoKeep?++a:(o.removeChild(c),delete s[c.nitoKey])}return u.slice(0).sort(function(e,t){return t._sort-e._sort||t._index-e._index}).forEach(function(e){var t=e.el,i=r[e._index];i?t!==i&&o.insertBefore(t,i):o.appendChild(t),t.nitoKeep=!1}),u},nest:function(e,t,i){return e?this.loop([e],t,i)[0]:void this.loop([],t,i)},classes:function(e){return this.each(function(){var n=this,o=t(n);r(e,function(e,t){o.toggleClass(e,!!i(t,n))})})},weld:function(e,t){if((null===e||void 0===e)&&(e=""),"object"!=typeof e)return this.each(function(){var t=i(e,this)+"";switch(this.tagName){case"INPUT":case"TEXTAREA":case"SELECT":break;case"IMG":this.src!==t&&(this.src=t);break;default:this.innerHTML!==t&&(this.innerHTML=t)}});t=t||{};var n=this;return r(e,function(e,i){var o=t[e]||"."+e;n.find(o).weld(i)}),this},values:function(e,i,n){if(!e)return this;var s=this,a="value",u="checked",c="selected";return i&&(a="defaultValue",u="defaultChecked",c="defaultSelected"),r(e,function(e,r){n&&(e=n+"["+e+"]");var h;if(o(r))h=s.find('[name="'+e+'[]"]'),h.each(function(){"checkbox"===this.type?this[u]=r.indexOf(this.getAttribute("value"))>=0:this.multiple&&t(this).children().each(function(){this[c]=r.indexOf(this.getAttribute("value"))>=0})});else{if(r&&"object"==typeof r)return s.values(r,i,e);if(h=s.find('[name="'+e+'"]'),0===h.length)return this;var l=h[0],f=l.tagName,d=l.type;(void 0===r||null===r)&&(r=""),"SELECT"===f?h.children().each(function(){this[c]=r==this.getAttribute("value")}):"radio"===d?h.each(function(){this[u]=r==this.getAttribute("value")}):"checkbox"===d?l[u]=!!r:"button"!==d&&"file"!==d&&"image"!==d&&"reset"!==d&&"submit"!==d?l[a]=r+"":"TEXTAREA"===f&&(l[a]=r+"",i&&h.html(r+""))}}),this},reset:function(){return this.each(function(){switch(this.tagName){case"FORM":this.reset();break;case"INPUT":var e=this.type;"checkbox"===e||"radio"===e?this.checked=this.defaultChecked:this.value=this.defaultValue;break;case"TEXTAREA":this.value=this.defaultValue;break;case"OPTION":this.selected=this.defaultSelected;break;case"SELECT":t(this).children().reset()}}),this}})}});